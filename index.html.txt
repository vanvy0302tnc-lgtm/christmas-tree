<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Merry Christmas</title>
<style>
html, body {
    margin: 0;
    padding: 0;
    background: black;
    overflow: hidden;
    height: 100%;
    touch-action: none;
}
canvas {
    display: block;
}
.text-main {
    position: absolute;
    bottom: 90px;
    width: 100%;
    text-align: center;
    font-size: 42px;
    color: white;
    text-shadow: 0 0 12px white;
    font-family: 'Segoe UI', cursive;
}
.text-sub {
    position: absolute;
    bottom: 45px;
    width: 100%;
    text-align: center;
    font-size: 20px;
    color: white;
    opacity: 0.9;
    text-shadow: 0 0 8px white;
}
</style>
</head>
<body>

<canvas id="canvas"></canvas>
<div class="text-main">Merry Christmas</div>
<div class="text-sub">From Vy ❤️</div>

<audio autoplay loop>
    <source src="https://cdn.pixabay.com/download/audio/2022/12/02/audio_2f91b9c4c3.mp3" type="audio/mpeg">
</audio>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function resize() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

// Background stars
const stars = [];
for (let i = 0; i < 200; i++) {
    stars.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        a: Math.random(),
        s: Math.random() * 0.02 + 0.005
    });
}

// Snow
const snow = [];
for (let i = 0; i < 150; i++) {
    snow.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        r: Math.random() * 2 + 1,
        v: Math.random() * 1 + 0.5
    });
}

// Tree
const tree = [];
const height = 320;
for (let i = 0; i < 1300; i++) {
    const y = Math.random() * height;
    const radius = (height - y) / 2;
    const t = Math.random() * Math.PI * 2;
    tree.push({ y, r: radius, t, b: Math.random() * 10 });
}

let angle = 0;

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Stars
    stars.forEach(s => {
        s.a += s.s;
        if (s.a > 1 || s.a < 0) s.s *= -1;
        ctx.fillStyle = `rgba(255,255,255,${s.a})`;
        ctx.fillRect(s.x, s.y, 2, 2);
    });

    // Snow
    ctx.fillStyle = "white";
    snow.forEach(f => {
        ctx.beginPath();
        ctx.arc(f.x, f.y, f.r, 0, Math.PI * 2);
        ctx.fill();
        f.y += f.v;
        if (f.y > canvas.height) {
            f.y = -10;
            f.x = Math.random() * canvas.width;
        }
    });

    // Tree rotate
    angle += 0.01;
    const cx = canvas.width / 2;
    const cy = canvas.height / 2 + 50;

    tree.forEach(p => {
        const a = p.t + angle;
        const x = cx + Math.cos(a) * p.r;
        const z = Math.sin(a) * p.r;
        const y = cy - p.y;
        const scale = (z + height) / (height * 2);
        const size = 2 * scale;

        p.b += 0.05;
        const alpha = 0.5 + Math.sin(p.b) * 0.5;

        ctx.fillStyle = `rgba(255,255,255,${alpha})`;
        ctx.beginPath();
        ctx.arc(x, y, size, 0, Math.PI * 2);
        ctx.fill();
    });

    requestAnimationFrame(draw);
}

draw();

// iOS audio unlock
document.body.addEventListener("touchstart", () => {
    document.querySelector("audio").play();
}, { once: true });
</script>

</body>
</html>
