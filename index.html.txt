<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Merry Christmas</title>
<style>
html, body {
    margin: 0;
    padding: 0;
    background: black;
    overflow: hidden;
    height: 100%;
}
canvas { display: block; }
.text-main {
    position: absolute;
    bottom: 70px;
    width: 100%;
    text-align: center;
    font-size: 42px;
    color: white;
    text-shadow: 0 0 14px white;
    font-family: 'Segoe UI', cursive;
}
</style>
</head>
<body>

<canvas id="canvas"></canvas>
<div class="text-main">Merry Christmas My Háº£o</div>

<audio autoplay loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/12/02/audio_2f91b9c4c3.mp3" type="audio/mpeg">
</audio>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function resize(){
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener("resize", resize);

// Snow
const snow = Array.from({length:140}, () => ({
  x: Math.random()*canvas.width,
  y: Math.random()*canvas.height,
  r: Math.random()*2+1,
  v: Math.random()*1+0.5
}));

// Leaves
const leaves = [];
const height = 320;
for(let i=0;i<1800;i++){
  const y = Math.random()*height;
  const radius = (height - y) * (0.25 + Math.random()*0.15);
  leaves.push({
    y, r: radius,
    a: Math.random()*Math.PI*2,
    b: Math.random()*10,
    color: Math.random()>0.85 ? "ornament" : "leaf"
  });
}

let rot = 0;

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // Snow
  ctx.fillStyle="white";
  snow.forEach(s=>{
    ctx.beginPath();
    ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
    ctx.fill();
    s.y+=s.v;
    if(s.y>canvas.height){
      s.y=-10; s.x=Math.random()*canvas.width;
    }
  });

  rot+=0.008;
  const cx = canvas.width/2;
  const cy = canvas.height/2+60;

  // Tree
  leaves.forEach(p=>{
    const a = p.a + rot;
    const x = cx + Math.cos(a)*p.r;
    const z = Math.sin(a)*p.r;
    const y = cy - p.y;

    const scale = (z + height)/(height*2);
    const size = 2.4*scale;

    p.b+=0.05;
    const glow = 0.6 + Math.sin(p.b)*0.4;

    if(p.color==="leaf"){
      ctx.fillStyle = `rgba(30,180,90,${glow})`;
    }else{
      ctx.fillStyle = Math.random()>0.5
        ? `rgba(255,60,60,${glow})`
        : `rgba(255,215,0,${glow})`;
    }
    ctx.beginPath();
    ctx.arc(x,y,size,0,Math.PI*2);
    ctx.fill();
  });

  // Trunk
  ctx.fillStyle="#8B5A2B";
  ctx.fillRect(cx-18, cy+5, 36, 80);

  // Star
  ctx.fillStyle="rgba(255,215,0,0.9)";
  ctx.beginPath();
  ctx.arc(cx, cy-height-15, 8, 0, Math.PI*2);
  ctx.fill();

  requestAnimationFrame(draw);
}
draw();

// iOS audio unlock
document.body.addEventListener("touchstart",()=>{
  document.querySelector("audio").play();
},{once:true});
</script>

</body>
</html>
